<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./dist/output.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />

    <title>Ecommerce Home Page | Promise Mphoola</title>
    <meta name="description" content="Promise Mphoola, Software developer, web development, Android developer, Malawi">  
  </head>
  <body class="md:mx-12 mt-6 mb-6 ">
    <!-- navbar -->
    <nav class="mx-4 md:mx-0">
      <div class="flex justify-between items-center">
        <div class="flex items-center">
          <img src="./src/images/icon-menu.svg" alt="" class="w-6 md:hidden" id="menu-btn">
  
          <img src="./src/images/logo.svg" alt="" class="pl-4 md:pr-12">
  
          <div class="hidden md:flex space-x-4">
            <a href="" class="text-sm text-gray-500">Collections</a>
            <a href="" class="text-sm text-gray-500">Men</a>
            <a href="" class="text-sm text-gray-500">Women</a>
            <a href="" class="text-sm text-gray-500">About</a>
            <a href="" class="text-sm text-gray-500">Contact</a>
          </div>
        </div>
        <div class="flex space-x-3 items-center">
          <div class="relative cursor-pointer" id="cart">
            <img src="./src/images/icon-cart.svg" alt="" class="h-4 w-4">
            
            <span id="cart-count" class="absolute -top-2 -right-2 bg-primary text-white rounded-full text-xs font-semibold px-1">0</span>
          
          </div>
          <img src="./src/images/image-avatar.png" alt="" class="h-8 w-8 hover:border hover:border-primary hover:rounded-full">
        </div>
      </div>
      

      <!-- mobile menu -->
      <div class="hidden absolute top-0 left-0 flex-col space-y-12 bg-white p-6 w-[60%] h-screen opacity-100" id="mobile-menu">
        <img src="./src/images/icon-close.svg" alt="" class="w-6 h-6" id="menu-close">
        <div class="flex flex-col space-y-4">
          <a href="" class="font-bold text-xl hover:text-primary">Collections</a>
          <a href="" class="font-bold text-xl hover:text-primary">Men</a>
          <a href="" class="font-bold text-xl hover:text-primary">Women</a>
          <a href="" class="font-bold text-xl hover:text-primary">About</a>
          <a href="" class="font-bold text-xl hover:text-primary">Contact</a>
        </div>
      </div>
    </nav>
    <div class="md:pt-4"></div>
    <hr class="hidden md:block border border-gray-300">
    <!-- navbar -->

    <!-- cart -->
    <div id="cart-content" class="hidden absolute top-20 right-12 md:right-12  bg-white rounded-2xl mx-auto shadow-xl shadow-black/50">
      <h3 class="font-bold text-lg pb-2 p-6">Cart</h3>
      <hr class="border border-gray-300">

      <div class="p-6 hidden flex-col space-y-4" id="toggleCartDisplay">
        <div class="flex items-center justify-center space-x-5 ">
          <img src="./src/images/image-product-1.jpg" alt="" class="rounded-lg w-12 h-12">
          <div class="flex flex-col">
            <h2>Fall Limited Edition Sneakers</h2>
            <div class="flex">
              <span class="text-gray-500" id="cartQy">$125.00 x 3 </span> 
              <span class="font-bold text-black px-3" id="cartTotal">$375</span>
            </div>
          </div>
          <img src="./src/images/icon-delete.svg" alt="" id="removeItem" class="cursor-pointer">
        </div>
        
        <button class="flex space-x-2 bg-primary py-2 w-full items-center justify-center rounded-md ">
          <span class="text-white">Checkout</span>
        </button>
      </div>

      <div class="p-20" id="emputy-cart">
        <h3 class="font-bold text-lg ">Your cart is empty</h3>
      </div>
    </div>
    <!-- main content -->
    <main class="md:px-6 pt-3">
      
      <div class="flex items-center flex-col md:flex-row md:space-x-8 lg:space-x-24">
        <div class="flex md:flex-col md:w-1/2">
          <a href="./src/images/image-product-1.jpg" class="glightbox3" data-gallery="gallery1">
            <img src="./src/images/image-product-1.jpg" alt="" class="md:rounded-lg w-full">
          </a>
          
          <div class="hidden md:flex justify-between space-x-2 pt-4 overflow-hidden">
            <a href="./src/images/image-product-1.jpg" class="glightbox3" data-gallery="gallery1" >
              <img src="./src/images/image-product-1-thumbnail.jpg" alt="" class="rounded-lg w-16 h-16 border border-[#DA6E2E] bg-white/50">
            </a>
            <a href="./src/images/image-product-2.jpg" class="glightbox3" data-gallery="gallery1">
              <img src="./src/images/image-product-2-thumbnail.jpg" alt="" class="rounded-lg w-16 h-16">
            </a>
            <a href="./src/images/image-product-3.jpg" class="glightbox3" data-gallery="gallery1">
              <img src="./src/images/image-product-3-thumbnail.jpg" alt="" class="rounded-lg w-16 h-16">
            </a>
            <a href="./src/images/image-product-4.jpg" class="glightbox3" data-gallery="gallery1">
              <img src="./src/images/image-product-4-thumbnail.jpg" alt="" class="rounded-lg w-16 h-16">
            </a>
          </div>
        </div>
        <div class="mt-4 md:mt-0 md:flex-1 mx-4">
          <h1 class="uppercase text-sm text-primary font-semibold">Sneaker company</h1>
          <h2 class="font-bold text-lg">Fall Limited Edition Sneakers</h2>
          <p class="text-gray-500 text-sm pt-4">These low-profile sneakers are your perfect casual wear companion. Featuring a 
            durable rubber outer sole, theyâ€™ll withstand everything the weather can offer.</p>

            <div class="flex md:flex-col items-center md:items-start justify-between pt-4">
              <div class="flex space-x-2 items-center">
                <span class="font-bold text-lg">$125.00</span>
                <span class="text-primary bg-[#FEEDDF] my-auto px-1 text-xs font-semibold rounded-md">50%</span>
              </div>
              <div>
                <span class="text-gray-500 text-sm line-through">$250.00</span>
              </div>
            </div>

            <div class="flex flex-col md:flex-row md:space-x-2 pt-6 space-y-4 md:space-y-0">
              <div class="flex justify-between rounded-md bg-[#F7F8FD]">
                <button class="text-primary font-bold px-2 py-1 rounded-l-md" id="plusBtn">-</button>
                <input type="number" class="bg-[#F7F8FD] w-12 text-center  focus:outline-none focus:border-[#F7F8FD] focus:ring-1 focus:ring-[#F7F8FD]" value="1" min="1">
                <button class="text-primary font-bold px-2 py-1 rounded-r-md" id="minusBtn">+</button>
              </div>
              <button id="addToCart" class="flex space-x-2 bg-primary py-2 w-full items-center justify-center rounded-md shadow-primary/50 shadow-lg">
                <img src="./src/images/icon-cart.svg" alt="" class="h-4 w-4">
                <span class="text-white">Add to cart</span>
              </button>
            </div>
        </div>
      </div>
    </main>

    <div class="text-[11px] text-center pb-5 pt-12">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
      Coded by <a target="_blank" class="text-blue-400 underline" href="https://promise.hackbits.tech/">Promise Mphoola</a>.
    </div>

    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    <script>
      // lightbox
      const lightbox = GLightbox({
        selector: '.glightbox3',
        touchNavigation: true,
        loop: true,
        autoplayVideos: true,
      });

      // cart
      const cart = document.getElementById('cart');
      const cartContent = document.getElementById('cart-content');

      // nav
      const menuBtn = document.getElementById('menu-btn');
      const menuClose = document.getElementById('menu-close');
      const mobileMenu = document.getElementById('mobile-menu');
      const container = document.getElementById('container');

      menuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        mobileMenu.classList.toggle('flex');
        body.classList.toggle('bg-black/20');
        cartContent.classList.add('hidden');
        
      });

      menuClose.addEventListener('click', () => {
        cartContent.classList.add('hidden');
        mobileMenu.classList.toggle('hidden');
        body.classList.toggle('bg-black/20');
      });

      //cart
      cart.addEventListener('click', () => {
        cartContent.classList.toggle('hidden');
        mobileMenu.classList.add('hidden');
      });

      // add to cart function
      const plusBtn = document.getElementById('plusBtn');
      const minusBtn = document.getElementById('minusBtn');
      const addToCart = document.getElementById('addToCart');
      const cartCount = document.getElementById('cart-count');
      const input = document.querySelector('input');
      const cartQy = document.getElementById('cartQy');
      const toggleCartDisplay = document.getElementById('toggleCartDisplay');
      const cartTotal = document.getElementById('cartTotal');
      const emputyCart = document.getElementById('emputy-cart');
      const removeItem = document.getElementById('removeItem');

      plusBtn.addEventListener('click', () => {
        if (input.value > 1) {
          input.value = parseInt(input.value) - 1;
        }
      });

      minusBtn.addEventListener('click', () => {
        input.value = parseInt(input.value) + 1;
      });

      addToCart.addEventListener('click', () => {
        
        cartCount.innerHTML = parseInt(cartCount.innerHTML) + parseInt(input.value);

        cartQy.innerHTML =  '$125.00 * ' + cartCount.innerHTML;

        cartTotal.innerHTML = '$' + cartCount.innerHTML * 125 + '.00';

        if (cartCount.innerHTML > 0) {
          toggleCartDisplay.classList.remove('hidden');
          toggleCartDisplay.classList.add('flex');
          emputyCart.classList.add('hidden');
        }
      });

      removeItem.addEventListener('click', () => {
        cartCount.innerHTML = 0;
        toggleCartDisplay.classList.add('hidden');
        toggleCartDisplay.classList.remove('flex');
        emputyCart.classList.remove('hidden');
      });

    </script>
  </body>
</html>
